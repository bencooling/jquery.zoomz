"use strict";!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(e){function o(e,o){function t(){function t(e){var o=e.pageX-l,t=e.pageY-v;a.addClass("hover"),i.css({left:"-"+n(o,u,m)+"px",top:"-"+n(t,r,h)+"px"})}function g(e){var o=e.originalEvent.touches[0],t=o.pageX-l,f=o.pageY-v;t=0>t?0:t>u?u:t,f=0>f?0:f>r?r:f,e.preventDefault(),a.addClass("hover"),i.css({left:"-"+n(t,u,m)+"px",top:"-"+n(f,r,h)+"px"})}function w(){a.removeClass("hover")}a=i.closest(".zoomz"),u=e.width(),r=e.height(),s=i.width(),c=i.height(),d=a.width(),p=a.height(),h=c-p,m=s-d,f="undefined"==typeof f?a:f,l=f.offset().left,v=f.offset().top,f.not(".zoomz-ready").addClass("zoomz-ready"),!z&&o.mousemove?f.on("mousemove",t).on("mouseleave",w):z&&o.touchmove&&f.on("touchmove",g).on("touchend",w)}function n(e,o,t){return Math.round(e/o*t)}var i,a,f,u,r,s,c,d,h,m,p,l,v,g=e.data("zoomz"),z=(e.offset().left,e.offset().top,"ontouchstart"in window||"undefined"!=typeof window.DocumentTouch&&document instanceof DocumentTouch);if(-1!==g.search(/(jpg|jpeg|png|gif)$/))i=$('<img class="target" />').load(t).attr("src",g).insertBefore(e);else{if(!$("#"+g).length)throw Error("Incompatible zoomz data attribute");i=$("#"+g),f=e,t()}}e.fn.zoomz=function(e){var t={touchmove:!0,mousemove:!0},n=$.extend(e,t);return $(this).each(function(){var e=$(this),t=new o(e,n);e.data("api",t)}),this}});